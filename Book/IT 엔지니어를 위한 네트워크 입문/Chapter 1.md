
# 📚 네트워크 시작하기

## 📌 네트워크 구성도 살펴보기

### 홈 네트워크

- 인터넷 <=> 모뎀 <=> 공유기 <=> 노트북/스마트폰/태블릿/데스크톱

### 데이터센터 네트워크

- 3계층 디자인 => 기존 데이터 센터구성 
- 2계층 디자인 => 가상화 기술, 스케일 아웃 기반의 애플리케이션과 서비스가 등장 => 2계층인 스파인-리프 구조로 데이터 센터 네트워크가 변화

## 📌 프로토콜

### 프로토콜

- 통신할 때의 규약
- 물리적 측면 : 데이터 전송 매체, 신호 규약, 회선 규격 등. 이더넷이 널리 쓰인다.
- 논리적 측면 : 장치들끼리 통신하기 위한 프로토콜 규격. TCP/IP가 널리 쓰인다.

### 프로토콜 스택

- 별도 계층에서 동작하는 프로토콜이지만 함께 사용하는 프로토콜 묶음 ex) TCP/IP

## 📌 OSI 7 계층과 TCP/IP

### OSI 7계층

- 피지컬 계층(1계층)     ex) RS-232,RS-449,V.35, S등의 케이블
- 데이터 링크 계층(2계층) ex) IEEE 802.2, FDDI
- 네트워크 계층(3계층)    ex) ARP, IPv4,IPv6,NAT,IPSec
- 트랜스포트 계층(4계층)  ex) TCP,UDP
- 세션 계층(5계층)        ex) RPC,SSH
- 프레젠테이션 계층(6계층)  ex) TLS,SSH,AFP 
- 애플리케이션 계층(7계층) ex) HTTP,SMP,SMTP,STUN,TFTP,TELNET

- 1~4계층 : Data Flow 계층 / 하위 계층
    - 1,2,3 계층은 신호와 데이터를 올바른 위치로 보내고 실제 신호를 잘 만들어 보내는데 집중
    - 4계층은 실제로 해당 데이터들이 정상적으로 잘 보내지도록 확인하는 역할
- 5~7계층 : Application 계층 / 상위 계층
    
### TCP/IP 모델

- 네트워크 액세스 계층(1~2 계층)
- 인터넷 계층(3계층)
- 트랜스포트 계층(4계층)
- 애플리케이션 계층(5~7계층)

## 📌 OSI 7 계층별 이해하기

### 1계층(피지컬 계층)

- 물리적 연결과 관련된 정보를 정의
- 전기 신호를 전달하는데 초점. 
- 장비 : 허브, 리피터, 케이블, 커넥터, 트랜시버, 탭

## 2계층(데이터 링크 계층)

- 전기신호를 모아 알아볼 수 있는 데이터 형태로 처리
- 주소 정보를 정의하고 정확한 주소로 통신이 되도록 초점
- 받는 사람이 현재 데이터를 받을 수 있는지 확인 => Flow Control
- 스위치, 네트워크 인터페이스 카드(Network Interface Card, LAN 카드)
    - LAN카드 동작방식
    1. 전기신호를 데이터 형태로 만든다.
    2. 목적지 MAC 주소와 출발지 MAC 주소 확인한다.
    3. LAN카드의 MAC 주소 확인
    4. 목적지 MAC주소와 LAN카드 MAC 주소가 같으면 데이터 처리(메모리 적재)하고 다르면 폐기한다.
- MAC 주소 체계 사용

### 3계층(네트워크 계층)

- 원격지 네트워크를 구분
- IP주소 사용
- 라우터 => IP 주소를 사용해 최적의 경로를 찾아주고 해당 경로로 패킷을 전송하는 역할

### 4계층(트랜스포트 계층)

- 패킷이 유실되거나 순서가 바뀌었을 때 바로잡아 주는 역할
- 패킷이 유실되면 재전송을 요청
- 시퀀스 번호 : 패킷에 보내는 순서를 명시
- ACK 번호 : 받는 순서를 나타낸 것
- 포트 번호를 사용해 상위 애플리케이션을 구분
- 로드밸런서, 방화벽

### 5계층(세션 계층)

- 양 끝단의 응용 프로세스가 연결을 성립하도록 도와주고 연결이 안정적으로 유지되도록 관리 및 작업 완료 후에는 이 연결을 끝는 역할
- TCP/IP 세션을 만들고 없애는 책임
- 에러로 중단된 통신에 대한 에러복구, 재전송 수행

### 6계층(프레젠테이션 계층)

- 표현 방식이 다른 애플리케이션이나 시스템간의 통신을 돕기 위해 하나의 통일된 구문 형식으로 변환시키는 기능을 수행
- MIME 인코딩, 암호화, 압축 ,코드 변환

### 7계층(애플리케이션 계층)

- 애플리케이션 프로세스를 정의, 애플리케이션 서비스를 수행
- 네트워크 소프트웨어의 UI부분이나 사용자 입출력 부분을 정의

### CSMA/CD 와 콜리전 도메인

## 📌 인캡슐레이션과 디캡슐레이션

### 패킷 기반 네트워크

- 데이터를 패킷이라는 작은 단위로 쪼개서 보냄
- 하나의 통신이 회선 전체를 점유하지 않고 동시에 여러 단말이 통신하도록 해준다.

### 인캡슐레이션

- 상위 계층 -> 하위 계층
- 애플리케이션에서 하위 계층으로 내려보내면서 패킷에 데이터를 넣을 수 있도록 분할
- 계층별 헤더정보를 붙임

### 디캡슐레이션

- 하위 계층 -> 상위 계층
- 헤더정보를 읽어내고 버림
- 패킷을 조합 -> 데이터 형태로 만든다.

### 헤더

- 현재 계층에서 정의하는 정보  ex) MAC주소, IP주소, Seq번호, ACK번호
- 프로토콜 지시자  
=> 상위 계층으로 갈수록 프로토콜이 다양해짐에 따라 지시자가 없으면 어떤 상위 프로토콜로 올려보내 주어야 할지 결정할 수 없다. ex) 포트번호

### MSS (Maximum Segment Size)

- 네트워크에서 수용할 수 있는 크기. 4계층의 최대 데이터 값(4계층 헤더 제외)

### MTU (Maximum Transmission Unit)

- 네트워크에서 한 번에 보낼 수 있는 크기. 2계층의 최대 데이터 값(2계층 헤더 제외)

