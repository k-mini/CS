
# 📚 네트워크 디자인

## 📌 2계층\/3계층 네트워크

### 2계층 네트워크

- 2계층 통신만으로 이루어지는 네트워크
- 통신할 호스트가 동일한 네트워크여야 함
- 게이트웨이 없이 통신 가능
- 루프 구조 => 스패닝 트리 프로토콜을 사용해 문제 해결
- 스패닝 트리 프로토콜로 인한 블록 포인트 문제 => MC-LAG같은 기술 => 루프 제거, 논블로킹 구현

### 3계층 네트워크

- 호스트 간의 통신이 IP 라우팅과 같은 3계층 통신으로 이루어지는 네트워크 디자인
- 전체 네트워크 인프라 대역폭을 ECMP 라우팅 기술을 이용해 모두 사용
- VxLAN과 같은 오버레이 네트워크 기술을 사용해 하단 호스트 간에 동일한 네트워크를 사용하면서도 네트워크  
장비 간에 3계층 통신을 하도록 구성 가능

## 📌 3-Tier 아키텍처

### 3-Tier 아키텍처 구성

- 코어 - 애그리게이션 - 액세스
- 전통적인 네트워크 디자인 기법
- North-South(사용자-서버) 트래픽이 대부분인 경우에 적합 

## 📌 2-Tier 아키텍처

### 스파인 리프 2-Tier 구조

- 스파인 - 리프
- East-West 트래픽 (서버 간 통신)에서 3계층 아키텍처보다 부하가 덜함

## 📌 데이터 센터 Zone\/PoD 내부망\/DMZ망\/인터넷망

### 인터넷망

- 외부 인터넷에서 사용자가 데이터 센터에 접근할 수 있도록 구성된 영역

### 공인망(DMZ)

- 데이터 센터에서 외부 사용자에게 직접 노출되는 웹 서비스 등의 서버들이 모인 망

### 내부망(사내망\/사설망)

- 공인망이나 DMZ망과 달리 데이터 센터 내부나 사내에서만 접근할 수 있는 네트워크

### 데이터베이스망

- 데이터베이스는 개인정보를 취급하는 경우가 많아 보안을 강화하기 위해 내부망에 데이터베이스망을 별도로 두는 경우가 많다

### 대외망

- 회사 대 회사로 서비스 연동이 필요한 경우, 인터넷망을 통해 연동할 수도 있지만 별도 전용선이나 VPN을 이용해 서비스를 연동할 수 있다.

### 관리망

- 장비 자체를 관리하기 위한 관리용 인터페이스를 별도로 제공
- 네트워크 관리망
- 서버 관리망

## 📌 케이블링과 네트워크

### ToR (Top of Rack)

- 랙 상단에 개별적으로  설치되는 스위치 구성
- 스위치가 EoR 구성보다 많이 필요 => 전력 및 냉각 비용 상승
- 케이블링의 길이나 복잡성이 줄어듬

### EoR (End of Row)

- 랙이 있는 행 끝에 네트워크 장비를 두고 각 랙에 있는 서버는 네트워크 장비가 있는 랙까지 케이블로 연결
- ToR보다 필요한 스위치 장비 수가 줄어듬
- 복잡도가 높고 케이블이 길다.
- 케이블 교체비용이 증가할 수 있다.

### MoR (Middle of Row)

- EoR과 같지만 네트워크 장비가 중간에 있어 케이블 길이가 전반적으로 감소



