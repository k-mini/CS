
# 📚 정규화

## 📌 정규화의 개념과 이상 현상

### 이상 현상의 개념

- 불필요한 데이터 중복으로 인해 발생하는 부작용들이다.
- 함수 종속 관계 여러 개를 하나의 릴레이션에 표현하는 경우에 주로 발생한다.

### 이상 현상의 종류

- 삽입 이상 => 새 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입해야 하는 문제
- 갱신 이상 => 중복 튜플 중 일부만 변경하여 데이터가 불일치하게 되는 모순의 문제
- 삭제 이상 => 튜플을 삭제하면 꼭 필요한 데이터까지 함께 삭제되는 데이터 손실의 문제

## 📌 함수 종속

### 함수 종속

- 하나의 릴레이션을 구성하는 속성들의 부분 집합을 X와 Y라 할 때, 어느 시점에서든 릴레이션 내의 모든 튜플에서  
X 값에 대한 Y의 값이 __항상 하나__ 면 "X가 Y를 함수적으로 결정한다" 또는 "Y가 X에 함수적으로 종속되어 있다"
- 함수 종속 관계는 X -> Y 로 표현하고 X를 결정자, Y를 종속자라고 한다.
- 릴레이션 내의 여러 튜플에서 속성 X 값이 같으면 이 값과 연관된 속성 Y 값도 모두 같아야 결정자로 인정받을 수 있다.

### 완전 함수 종속 X -> Y

- 릴레이션에서 속성 집합 Y가 속성 집합 X에 함수적으로 종속되어 있는 것
- 속성 집합 X 전체에 종속된 것

### 부분 함수 종속 X(X1,X2) -> Y

- 속성 집합 Y가 속성집합 X의 전체가 아닌 일부분에도 함수적으로 종속되는 것
- 부분 함수 종속 관계가 성립하려면 결정자가 여러 개의 속성들로 구성되어 있어야 한다.

### 함수 종속 다이어그램

- 릴레이션 하나를 구성하는 속성들 간의 함수 종속 관계를 도식화하여 표현한 것

## 📌 기본 정규형과 정규화 과정

### 정규화

- 함수 종속성을 이용하여, 릴레이션을 연관성이 있는 속성들로만 구성하도록 분해해 이상 현상이 발생하지 않는  
바람직한 릴레이션으로 만들어나가는 과정

### 정규형

- 릴레이션이 정규화된 정도를 나타내는 기준. 크게 기본 정규형과 고급 정규형으로 나뉜다.

- 기본 정규형
    - 제1 정규형 => 릴레이션에 속한 모든 속성의 도메인이 원자값으로만 구성되어 있다.
    - 제2 정규형 => 릴레이션이 제1 정규형에 속하고, 기본키가 아닌 모든 속성이 완전 함수 종속(부분 함수 종속 제거)
    - 제3 정규형 => 릴레이션이 제2 정규형이 속하고, 기본키가 아닌 모든 속성이 기본키에 이행적으로 함수 종속되지 않음
    - 보이스/코드 정규형 -> 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키
- 고급 정규형
    - 제4 정규형 => 보이스/코드 정규형을 만족하면서 함수 종속이 아닌 다치 종속을 제거
    - 저5 정규형 => 제4 정규형을 만족하면서 후보키를 통하지 않는 조인 종속을 제거

